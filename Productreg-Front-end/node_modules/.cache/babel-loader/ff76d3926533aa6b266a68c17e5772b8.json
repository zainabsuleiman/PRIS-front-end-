{"ast":null,"code":"var _jsxFileName = \"/Users/abdoulsulaiman/Downloads/PRISNEW/Productreg-Front-end/src/pages/examples/Addrole.js\";\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faMobile, faUnlockAlt, faBullhorn, faUserCircle, faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Dropdown, Modal, Table, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nimport { Alert } from '@themesberg/react-bootstrap';\nexport default (() => {\n  const [hiddenAlerts, setHiddenAlerts] = React.useState([]);\n\n  const onClose = alertId => {\n    const hiddenAlertsUpdated = [...hiddenAlerts, alertId];\n    setHiddenAlerts(hiddenAlertsUpdated);\n  };\n\n  const shouldShowAlert = alertId => hiddenAlerts.indexOf(alertId) === -1;\n\n  const [showDefault, setShowDefault] = useState(false);\n\n  const handleClose = () => setShowDefault(false);\n\n  const user = JSON.parse(localStorage.getItem(\"token\"));\n  const [userdata, userdatachange] = useState([]);\n  const [type_name, type_namechange] = useState(\"\");\n  console.log(user.access_token);\n  const history = useHistory();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const ind_data = {\n      type_name\n    };\n    fetch('http://127.0.0.1:8000/apiaccounts/rolecreate/', {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${user.access_token}`,\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(ind_data)\n    }).then(res => {\n      shouldShowAlert; // alert('role created successfully');\n\n      history.push('/dashboard/admin');\n    }).catch(err => {\n      console.log(err.message);\n    });\n  }\n\n  const fetchData = () => {\n    fetch(\"http://127.0.0.1:8000/apiaccounts/roleList/\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${user.access_token}`,\n        \"content-type\": \"application/json\"\n      }\n    }).then(res => {\n      return res.json();\n    }).then(resp => {\n      userdatachange(resp);\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n\n  const Removeuser = id => {\n    if (window.confirm(\"Do you want to remove role\")) {\n      fetch(`http://127.0.0.1:8000/apiaccounts/roledelete/${id}/`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${user.access_token}`,\n          \"content-type\": \"application/json\"\n        }\n      }).then(res => {\n        alert('removed successfully.');\n        window.location.reload();\n      }).catch(err => {\n        console.log(err.message);\n      });\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-center form-bg-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 12,\n    className: \"d-flex align-items-center justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-4 mb-lg-0 bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center text-md-center mb-4 mt-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, \"Create Role\")), /*#__PURE__*/React.createElement(Form, {\n    className: \"mt-4\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    id: \"names\",\n    name: \"type_name\",\n    className: \"mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"Type name\"), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faUserCircle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    autoFocus: true,\n    required: true,\n    type: \"text\",\n    placeholder: \"Admin\",\n    value: type_name,\n    onChange: e => type_namechange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    icon: faUserPlus,\n    className: \"w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 19\n    }\n  }, \"Add\"))))), /*#__PURE__*/React.createElement(Dropdown.Divider, {\n    className: \"my-3 border-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    border: \"light\",\n    className: \"shadow-sm mb-0 p-4 p-lg-5 w-100 align-content-lg-center fmxw-600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    className: \"pb-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left text-md-left mb-4 mt-md-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }, \"List Of Roles\")), /*#__PURE__*/React.createElement(Table, {\n    responsive: true,\n    className: \"table-centered  rounded mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }, \" Type Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"border-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, userdata.map(item => /*#__PURE__*/React.createElement(\"tr\", {\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }, item.id), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  }, item.type_name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      Removeuser(item.id);\n    },\n    size: \"sm\",\n    variant: \"primary\",\n    className: \"m-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 23\n    }\n  }, \"Delete\")))))))))), /*#__PURE__*/React.createElement(Alert, {\n    variant: \"warning\",\n    show: shouldShowAlert(\"warning\"),\n    onClose: () => onClose(\"warning\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faBullhorn,\n    className: \"me-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }), \"Role created successfully!!\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"close\",\n    size: \"xs\",\n    onClick: () => onClose(\"warning\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }))));\n});","map":{"version":3,"sources":["/Users/abdoulsulaiman/Downloads/PRISNEW/Productreg-Front-end/src/pages/examples/Addrole.js"],"names":["React","FontAwesomeIcon","faAngleLeft","faEnvelope","faMobile","faUnlockAlt","faBullhorn","faUserCircle","faUserPlus","faFacebookF","faGithub","faTwitter","Col","Dropdown","Modal","Table","Row","Form","Card","Button","FormCheck","Container","InputGroup","Link","useHistory","useEffect","useState","Routes","Alert","hiddenAlerts","setHiddenAlerts","onClose","alertId","hiddenAlertsUpdated","shouldShowAlert","indexOf","showDefault","setShowDefault","handleClose","user","JSON","parse","localStorage","getItem","userdata","userdatachange","type_name","type_namechange","console","log","access_token","history","handleSubmit","e","preventDefault","ind_data","fetch","method","headers","Authorization","body","stringify","then","res","push","catch","err","message","fetchData","json","resp","Removeuser","id","window","confirm","alert","location","reload","target","value","map","item"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faMobile, faUnlockAlt,faBullhorn, faUserCircle, faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col,Dropdown, Modal,Table,Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link , useHistory } from 'react-router-dom';\nimport{useEffect,useState} from 'react';\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nimport { Alert } from '@themesberg/react-bootstrap';\n\nexport default () => {\n  const [hiddenAlerts, setHiddenAlerts] = React.useState([]);\n\n  const onClose = (alertId) => {\n    const hiddenAlertsUpdated = [...hiddenAlerts, alertId];\n    setHiddenAlerts(hiddenAlertsUpdated);\n  };\n\n  const shouldShowAlert = (alertId) => (\n    hiddenAlerts.indexOf(alertId) === -1\n  );\n    const [showDefault, setShowDefault] = useState(false);\n    const handleClose = () => setShowDefault(false);\n  const user = JSON.parse(localStorage.getItem(\"token\"));\n  const [userdata,userdatachange] = useState([]);\n    const[type_name,type_namechange] = useState(\"\");\n    console.log(user.access_token);\n    const history = useHistory();\n    function handleSubmit(e){\n        e.preventDefault();\n        \n        const ind_data ={type_name};\n        fetch('http://127.0.0.1:8000/apiaccounts/rolecreate/',{\n            method:\"POST\",\n            headers:{  \n              Authorization: `Bearer ${user.access_token}`,\n              \"content-type\":\"application/json\"},\n              body:JSON.stringify(ind_data)\n        })\n        .then(res=>{\n          shouldShowAlert\n            // alert('role created successfully');\n            history.push('/dashboard/admin')\n        }).catch((err) =>{\n            console.log(err.message)\n        })\n    }\n    const fetchData = () => {fetch(\"http://127.0.0.1:8000/apiaccounts/roleList/\",{\n        method:\"GET\",\n        headers:{\n          Authorization: `Bearer ${user.access_token}`,\n          \"content-type\":\"application/json\"}\n      }).then((res)=>{\n        return res.json();\n      }).then((resp)=>{\n        userdatachange(resp);\n      }).catch((err)=>{\n        console.log(err.message);\n      })};\n      const Removeuser=(id)=>{\n        if(window.confirm(\"Do you want to remove role\")){\n            fetch(`http://127.0.0.1:8000/apiaccounts/roledelete/${id}/`,{\n                method:\"DELETE\",\n                headers:{\n                Authorization: `Bearer ${user.access_token}`,\n                \"content-type\":\"application/json\"}\n            }).then((res)=>{\n                alert('removed successfully.');\n                window.location.reload();\n            }).catch((err)=>{\n                console.log(err.message);\n            })\n        }\n    }\n      useEffect(()=>{\n        fetchData();\n      },[]);\n  return (\n    <main>\n      <section className=\"d-flex align-items-center my-5 mt-lg-6 mb-lg-5\">\n        <Container>\n          \n          <Row className=\"justify-content-center form-bg-image\" >\n            <Col xs={12} className=\"d-flex align-items-center justify-content-center\">\n              <div className=\"mb-4 mb-lg-0 bg-white shadow-soft border rounded border-light p-4 p-lg-5 w-100 fmxw-500\">\n                <div className=\"text-center text-md-center mb-4 mt-md-0\">\n                  <h3 className=\"mb-0\">Create Role</h3>\n                </div>\n                <Form className=\"mt-4\" onSubmit={handleSubmit}>\n                  <Form.Group id=\"names\" name=\"type_name\" className=\"mb-4\">\n                    <Form.Label>Type name</Form.Label>\n                    <InputGroup>\n                      <InputGroup.Text>\n                        <FontAwesomeIcon icon={faUserCircle} />\n                      </InputGroup.Text>\n                      <Form.Control autoFocus required type=\"text\" placeholder=\"Admin\"  value={type_name} onChange={e=>type_namechange(e.target.value)}/>\n                    </InputGroup>\n                  </Form.Group>\n                 \n                  <Button variant=\"primary\"  type=\"submit\" icon={faUserPlus} className=\"w-100\">\n                    Add\n                  </Button>\n                </Form>\n              </div>\n            </Col>\n            \n         \n          </Row>\n          <Dropdown.Divider className=\"my-3 border-white\" />\n          <Card border=\"light\" className=\"shadow-sm mb-0 p-4 p-lg-5 w-100 align-content-lg-center fmxw-600\">\n        <Card.Body className=\"pb-1\">\n        <div className=\"text-left text-md-left mb-4 mt-md-0\">\n                  <h6 className=\"mb-0\">List Of Roles</h6>\n                </div>\n          <Table responsive className=\"table-centered  rounded mb-4\">\n            <thead className=\"thead-light\">\n            <tr>\n                <th className=\"border-0\">#</th>\n                <th className=\"border-0\"> Type Name</th>\n                <th className=\"border-0\">Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {userdata.map((item)=>(\n                  <tr key={item.id}>\n                  <td>{item.id}</td>\n                  <td>{item.type_name}</td>\n                  <td>\n                      <Button onClick={()=>{Removeuser(item.id)}} size=\"sm\" variant=\"primary\"    className=\"m-1\">Delete</Button>\n                  </td>\n\n                  </tr>\n              ))}\n                 \n            </tbody>\n          </Table>\n        </Card.Body>\n        </Card>\n        </Container>\n      </section>\n      <Alert\n          variant=\"warning\"\n          show={shouldShowAlert(\"warning\")}\n          onClose={() => onClose(\"warning\")}>\n  \n          <div className=\"d-flex justify-content-between\">\n            <div>\n              <FontAwesomeIcon icon={faBullhorn} className=\"me-1\" />\n              Role created successfully!!\n            </div>\n            <Button variant=\"close\" size=\"xs\" onClick={() => onClose(\"warning\")} />\n          </div>\n        </Alert>\n    </main>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}