{"ast":null,"code":"import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt, faUserCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport qs from \"querystring\";\nimport { useState, useEffect } from 'react';\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\nimport axios from 'axios';\nexport default (() => {\n  const history = useHistory();\n  const user = JSON.parse(localStorage.getItem(\"token\"));\n  console.log(user);\n  console.log(user.access_token);\n\n  const fetchData = () => {\n    fetch(\"http://127.0.0.1:8000/apiaccounts/profile/\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${user.access_token}`,\n        \"content-type\": \"application/json\"\n      }\n    }).then(res => {\n      return res.json();\n    }).then(resp => {\n      if (resp.role == 'Industry') {\n        history.push(\"/dashboard/industry\");\n      }\n\n      if (resp.role == 'Admin') {\n        history.push(\"/dashboard/admin\");\n      }\n    }).catch(err => {\n      console.log(err.message);\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  return fetchData();\n});","map":{"version":3,"sources":["/Users/abdoulsulaiman/Downloads/PRISNEW/Productreg-Front-end/src/pages/examples/Pass.js"],"names":["React","FontAwesomeIcon","faAngleLeft","faEnvelope","faUnlockAlt","faUserCircle","faFacebookF","faGithub","faTwitter","Col","Row","Form","Card","Button","FormCheck","Container","InputGroup","Link","useHistory","qs","useState","useEffect","Routes","axios","history","user","JSON","parse","localStorage","getItem","console","log","access_token","fetchData","fetch","method","headers","Authorization","then","res","json","resp","role","push","catch","err","message"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,WAAT,EAAsBC,UAAtB,EAAkCC,WAAlC,EAA+CC,YAA/C,QAAmE,mCAAnE;AACA,SAASC,WAAT,EAAsBC,QAAtB,EAAgCC,SAAhC,QAAiD,oCAAjD;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,IAAzB,EAA+BC,MAA/B,EAAuCC,SAAvC,EAAkDC,SAAlD,EAA6DC,UAA7D,QAA+E,6BAA/E;AACA,SAASC,IAAT,EAAeC,UAAf,QAAgC,kBAAhC;AACA,OAAOC,EAAP,MAAe,aAAf;AACA,SAASC,QAAT,EAAkBC,SAAlB,QAAmC,OAAnC;AACA,SAASC,MAAT,QAAuB,cAAvB;;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,gBAAe,MAAM;AAGjB,QAAMC,OAAO,GAAGN,UAAU,EAA1B;AACA,QAAMO,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAb;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAZ;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACO,YAAjB;;AACA,QAAMC,SAAS,GAAG,MAAM;AAAEC,IAAAA,KAAK,CAAC,4CAAD,EAA8C;AAC5EC,MAAAA,MAAM,EAAC,KADqE;AAE5EC,MAAAA,OAAO,EAAC;AACNC,QAAAA,aAAa,EAAG,UAASZ,IAAI,CAACO,YAAa,EADrC;AAEN,wBAAe;AAFT;AAFoE,KAA9C,CAAL,CAKxBM,IALwB,CAKlBC,GAAD,IAAO;AACb,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACD,KAP0B,EAOxBF,IAPwB,CAOlBG,IAAD,IAAQ;AAEd,UAAGA,IAAI,CAACC,IAAL,IAAa,UAAhB,EAA2B;AAC1BlB,QAAAA,OAAO,CAACmB,IAAR,CAAa,qBAAb;AACA;;AACD,UAAGF,IAAI,CAACC,IAAL,IAAY,OAAf,EAAuB;AACtBlB,QAAAA,OAAO,CAACmB,IAAR,CAAa,kBAAb;AACA;AACF,KAf0B,EAexBC,KAfwB,CAejBC,GAAD,IAAO;AACdf,MAAAA,OAAO,CAACC,GAAR,CAAYc,GAAG,CAACC,OAAhB;AACD,KAjB0B;AAiBxB,GAjBF;;AAkBCzB,EAAAA,SAAS,CAAC,MAAI;AACbY,IAAAA,SAAS;AACL,GAFI,EAEH,EAFG,CAAT;AAIH,SAAOA,SAAS,EAAhB;AAGD,CAhCD","sourcesContent":["\nimport React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faEnvelope, faUnlockAlt, faUserCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { faFacebookF, faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { Col, Row, Form, Card, Button, FormCheck, Container, InputGroup } from '@themesberg/react-bootstrap';\nimport { Link ,useHistory} from 'react-router-dom';\nimport qs from \"querystring\";\nimport { useState,useEffect } from 'react';\nimport { Routes } from \"../../routes\";\nimport BgImage from \"../../assets/img/illustrations/signin.svg\";\n\nimport axios from 'axios';\nexport default () => {\n\n\n    const history = useHistory();\n    const user = JSON.parse(localStorage.getItem(\"token\"));\n    console.log(user)\n    console.log(user.access_token)\n    const fetchData = () => { fetch(\"http://127.0.0.1:8000/apiaccounts/profile/\",{\n     method:\"GET\",\n     headers:{\n       Authorization: `Bearer ${user.access_token}`,\n       \"content-type\":\"application/json\"}\n   }).then((res)=>{\n     return res.json();\n   }).then((resp)=>{\n     \n     if(resp.role == 'Industry'){\n      history.push(\"/dashboard/industry\");\n     }\n     if(resp.role== 'Admin'){\n      history.push(\"/dashboard/admin\")\n     }\n   }).catch((err)=>{\n     console.log(err.message);\n   })}\n     useEffect(()=>{\n      fetchData();\n         },[]);\n  \n  return fetchData();\n    \n  \n};\n"]},"metadata":{},"sourceType":"module"}